<!-- Conversation Card Component -->
<div class="conversation-item bg-white border rounded-lg p-4 hover:shadow-md transition-shadow"
     :class="conversation.message_count > 0 ? 'border-gray-200' : 'border-orange-200 bg-orange-50'"
     :data-conversation-id="conversation.id">
    <div class="flex items-start justify-between">
        <div class="flex-1 min-w-0">
            <h3 class="text-sm font-medium text-gray-900 truncate" x-text="conversation.title"></h3>
            
            <!-- Client and Project Info - More Prominent -->
            <div class="mt-1 flex items-center space-x-2">
                <span x-show="conversation.client_name" 
                      class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"
                      x-text="conversation.client_name"></span>
                <span x-show="conversation.project_name" 
                      class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"
                      x-text="conversation.project_name"></span>
            </div>
            
            <div x-show="conversation.message_count === 0" class="text-xs text-orange-600 font-medium mt-1">
                ⚠️ Empty conversation - no messages yet
            </div>
            
            <div class="mt-1 flex items-center space-x-2">
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"
                      :class="getStatusClass(conversation.status)"
                      x-text="conversation.status || 'draft'"></span>
                <span x-show="conversation.content_type" 
                      class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"
                      x-text="safeStringFormat(conversation.content_type)"></span>
            </div>
            
            <div class="flex items-center space-x-4 text-xs text-gray-500 mt-1">
                <span x-text="new Date(conversation.updated_at).toLocaleDateString()"></span>
                <span class="text-orange-600 font-medium" x-text="conversation.message_count ? conversation.message_count + ' messages' : 'No messages'"></span>
            </div>
            <div class="flex flex-wrap gap-1 mt-2" x-show="conversation.tags && conversation.tags.length > 0">
                <template x-for="tag in conversation.tags" :key="tag.id">
                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"
                          x-text="tag.name"></span>
                </template>
            </div>
        </div>
        <div class="flex items-center space-x-1 ml-2">
            <button @click="viewConversation(conversation.id)"
                    class="p-1 text-gray-400 hover:text-blue-600"
                    title="View Conversation">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
            </button>
            <button @click="editContentStatus(conversation)"
                    class="p-1 text-gray-400 hover:text-green-600"
                    title="Edit Content Status">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                </svg>
            </button>
            <button @click="deleteConversation(conversation.id)"
                    class="p-1 text-gray-400 hover:text-red-600"
                    title="Delete">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
            </button>
        </div>
    </div>
</div>
